(this["webpackJsonpreact-quiz"]=this["webpackJsonpreact-quiz"]||[]).push([[0],{21:function(e,t,n){e.exports={Drawer:"Drawer_Drawer__2BlOY",isOpen:"Drawer_isOpen__rz_TZ",active:"Drawer_active__35KPu"}},22:function(e,t,n){e.exports={FinishedQuiz:"FinishedQuiz_FinishedQuiz__D-CkC",success:"FinishedQuiz_success__jBBc5",error:"FinishedQuiz_error__KSdom"}},25:function(e,t,n){e.exports={MenuToggle:"MenuToggle_MenuToggle__OLoE2",open:"MenuToggle_open__14SWd"}},28:function(e,t,n){e.exports={ActiveQuiz:"ActiveQuiz_ActiveQuiz__Dpsgu",header:"ActiveQuiz_header__2quyp"}},29:function(e,t,n){e.exports={AnswerItem:"AnswerItem_AnswerItem__3PJVi",success:"AnswerItem_success__30eEE",error:"AnswerItem_error___hrWf"}},30:function(e,t,n){e.exports={Button:"Button_Button__3gFiX",error:"Button_error__2nDvg",success:"Button_success__cnhtV",primary:"Button_primary__28VL_"}},31:function(e,t,n){e.exports={Input:"Input_Input__3r5Ke",invalid:"Input_invalid__1XscM"}},32:function(e,t,n){e.exports={Auth:"Auth_Auth__1Zul_",AuthForm:"Auth_AuthForm__3wyhV"}},33:function(e,t,n){e.exports={QuizListWrapper:"QuizList_QuizListWrapper__uZmBb",QuizList:"QuizList_QuizList__a5VQi"}},44:function(e,t,n){e.exports={Layout:"Layout_Layout__2BpO9"}},45:function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__3j6VK"}},48:function(e,t,n){e.exports={Quiz:"Quiz_Quiz__18Rwf"}},49:function(e,t,n){e.exports={AnswersList:"AnswersList_AnswersList__EwYQd"}},50:function(e,t,n){e.exports={Loader:"Loader_Loader__ANdA0",loader:"Loader_loader__1MjUl"}},51:function(e,t,n){e.exports={QuizCreator:"QuizCreator_QuizCreator__3jBmX"}},52:function(e,t,n){e.exports={Select:"Select_Select__2qylT"}},57:function(e,t,n){},58:function(e,t,n){},84:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),s=n(43),i=n.n(s),c=(n(57),n(58),n(8)),o=n(9),u=n(11),l=n(10),d=n(44),h=n.n(d),j=n(25),p=n.n(j),v=n(0),b=function(e){var t=[p.a.MenuToggle,"fa"];return e.isOpen?(t.push("fa-times"),t.push(p.a.open)):t.push("fa-bars"),Object(v.jsx)("i",{className:t.join(" "),onClick:e.onToggle})},f=n(21),O=n.n(f),m=n(45),x=n.n(m),g=function(e){return Object(v.jsx)("div",{className:x.a.Backdrop,onClick:e.onClick})},w=n(14),_=[{to:"/",label:"Quiz List",exact:!0},{to:"/auth",label:"Authorization",exact:!1},{to:"/quiz-creator",label:"Create a quiz",exact:!1}],z=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).renderNavLinks=function(t){return t.map((function(t,n){return Object(v.jsx)("li",{children:Object(v.jsx)(w.c,{to:t.to,exact:t.exact,onClick:e.props.onClick,activeClassName:O.a.active,children:t.label})},n)}))},e}return Object(o.a)(n,[{key:"render",value:function(){var e=[O.a.Drawer];return this.props.isOpen&&e.push(O.a.isOpen),Object(v.jsxs)(r.a.Fragment,{children:[Object(v.jsx)("nav",{className:e.join(" "),children:Object(v.jsx)("ul",{children:this.renderNavLinks(_)})}),this.props.isOpen&&Object(v.jsx)(g,{onClick:this.props.onClick})]})}}]),n}(a.Component),C=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={menu:!1},e.toggleMenuHandler=function(){e.setState({menu:!e.state.menu})},e.toggleMenuClose=function(){e.setState({menu:!1})},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(v.jsx)("div",{className:h.a.Layout,children:Object(v.jsxs)("main",{children:[Object(v.jsx)(z,{isOpen:this.state.menu,onClick:this.toggleMenuClose}),Object(v.jsx)(b,{onToggle:this.toggleMenuHandler,isOpen:this.state.menu}),this.props.children]})})}}]),n}(a.Component),y=n(4),k=n.n(y),Q=n(20),q=n(15),A=n(16),S=n(13),L=n(48),F=n.n(L),I=n(28),N=n.n(I),H=n(49),M=n.n(H),B=n(29),V=n.n(B),D=function(e){var t=[V.a.AnswerItem];return e.answerState&&t.push(V.a[e.answerState]),Object(v.jsx)("li",{className:t.join(" "),onClick:function(){return e.onAnswerClick(e.answer.id)},children:e.answer.text})},T=function(e){return Object(v.jsx)("ul",{className:M.a.AnswersList,children:e.answers.map((function(t,n){return Object(v.jsx)(D,{answer:t,onAnswerClick:e.onAnswerClick,answerState:e.answerState?e.answerState[t.id]:null},n)}))})},E=function(e){return Object(v.jsxs)("div",{className:N.a.ActiveQuiz,children:[Object(v.jsxs)("div",{className:N.a.header,children:[Object(v.jsx)("p",{children:e.question}),Object(v.jsxs)("small",{children:[e.activeQuestion,"/",e.quizLength]})]}),Object(v.jsx)(T,{answers:e.answers,onAnswerClick:e.onAnswerClick,answerState:e.answerState})]})},R=n(22),U=n.n(R),W=n(30),P=n.n(W),Z=function(e){var t=[P.a.Button,P.a[e.type]];return Object(v.jsx)("button",{onClick:e.onClick,disabled:e.disabled,className:t.join(" "),children:e.children})},K=function(e){var t=Object.keys(e.results).reduce((function(t,n){return"success"===e.results[n]&&t++,t}),0);return Object(v.jsxs)("div",{className:U.a.FinishedQuiz,children:[Object(v.jsx)("h1",{children:"Your results:"}),Object(v.jsx)("ul",{children:e.quiz.map((function(t,n){return Object(v.jsxs)("li",{className:"success"===e.results[t.id]?U.a.success:U.a.error,children:[n+1,".",t.question,Object(v.jsx)("i",{className:"success"===e.results[t.id]?"fas fa-check-circle":"fas fa-times-circle"})]},n)}))}),Object(v.jsxs)("p",{children:["\u0421\u043errect ",t," of ",e.quiz.length]}),Object(v.jsxs)("div",{children:[Object(v.jsx)(Z,{onClick:e.quizFinishing,type:"primary",children:"Retry"}),Object(v.jsx)(w.b,{to:"/",children:Object(v.jsx)(Z,{onClick:e.quizFinishing,type:"success",children:"Go to the Quiz List"})})]})]})},J=n(19),X=n.n(J),Y=X.a.create({baseURL:"https://react-quiz-3fbc2-default-rtdb.europe-west1.firebasedatabase.app/"}),G=n(50),$=n.n(G),ee=function(e){return Object(v.jsxs)("div",{className:$.a.Loader,children:[Object(v.jsx)("div",{}),Object(v.jsx)("div",{}),Object(v.jsx)("div",{}),Object(v.jsx)("div",{}),Object(v.jsx)("div",{}),Object(v.jsx)("div",{}),Object(v.jsx)("div",{}),Object(v.jsx)("div",{})]})},te=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={results:{},isQuizFinished:!1,activeQuestion:0,answerState:null,quiz:[],loading:!0},e.onAnswerClickHandler=function(t){var n=e.state.quiz[e.state.activeQuestion];if(!e.state.answerState||!e.state.answerState[t])if(n.rightAnswerId===t){e.setState({results:Object(S.a)(Object(A.a)({},n.id,"success"),e.state.results),answerState:Object(A.a)({},t,"success")});var a=window.setTimeout((function(){e.isQuizFinished()?e.setState({isQuizFinished:!0}):e.setState((function(e,t){return{activeQuestion:e.activeQuestion+1,answerState:{}}})),window.clearTimeout(a)}),1e3)}else e.setState({results:Object(S.a)(Object(A.a)({},n.id,"error"),e.state.results),answerState:Object(A.a)({},t,"error")})},e.isQuizFinished=function(){return e.state.activeQuestion+1===e.state.quiz.length},e.onQuizFinishHandler=function(){e.setState({results:{},isQuizFinished:!1,activeQuestion:0,answerState:{}})},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(q.a)(k.a.mark((function e(){var t,n,a;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.get("/quizes/".concat(this.props.match.params.id,".json"));case 3:n=e.sent,a=n.data,(t=console).log.apply(t,Object(Q.a)(a)),this.setState({quiz:a,loading:!1}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(v.jsxs)("div",{className:F.a.Quiz,children:[Object(v.jsx)("h1",{children:"Answer all questions"}),this.state.loading?Object(v.jsx)(ee,{}):this.state.isQuizFinished?Object(v.jsx)(K,{results:this.state.results,quiz:this.state.quiz,quizFinishing:this.onQuizFinishHandler}):Object(v.jsx)(E,{answers:this.state.quiz[this.state.activeQuestion].answers,question:this.state.quiz[this.state.activeQuestion].question,onAnswerClick:this.onAnswerClickHandler,quizLength:this.state.quiz.length,activeQuestion:this.state.activeQuestion+1,answerState:this.state.answerState})]})}}]),n}(a.Component),ne=n(51),ae=n.n(ne);function re(e,t){return Object(S.a)(Object(S.a)({},e),{},{validation:t,valid:!t,touched:!1,value:""})}function se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)return!0;var n=!0;return t.required?""!==e.trim()&&n:n}function ie(e){var t=!0;return Object.keys(e).map((function(n){return t=e[n].valid&&t})),t}var ce=n(31),oe=n.n(ce);function ue(e){var t=e.valid,n=e.shouldValidate,a=e.touched;return!t&&n&&a}var le=function(e){var t=e.type||"text",n=e.errorMessage||"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u043b\u0438\u0434\u043d\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435",a=[oe.a.Input],r="".concat(t," + ").concat(Math.random());return ue(e)&&a.push(oe.a.invalid),Object(v.jsxs)("div",{className:a.join(" "),children:[Object(v.jsx)("label",{htmlFor:r,children:e.label}),Object(v.jsx)("input",{type:t,id:r,value:e.value,onChange:e.onChange}),ue(e)&&Object(v.jsx)("span",{children:n})]})},de=n(52),he=n.n(de),je=function(e){var t="".concat(e.label,"-").concat(Math.random());return Object(v.jsxs)("div",{className:he.a.Select,children:[Object(v.jsx)("label",{htmlFor:t,children:e.label}),Object(v.jsx)("select",{id:t,value:e.value,onChange:e.onChange,children:e.options.map((function(e,t){return Object(v.jsx)("option",{value:e.value,children:e.text},e.value+t)}))})]})};function pe(e){return re({label:"".concat(e," variant"),errorMessage:"Variant can not be empty",id:e},{required:!0})}function ve(){return{question:re({label:"\xa0Ask a question",errorMessage:"Question can not be empty"},{required:!0}),option1:pe(1),option2:pe(2),option3:pe(3),option4:pe(4)}}var be=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,s=new Array(a),i=0;i<a;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={quiz:[],isFormValid:!1,formControls:ve(),rightAnswerId:1},e.submitHandler=function(e){e.preventDefault()},e.addQuestionHandler=function(t){t.preventDefault();var n=Object(Q.a)(e.state.quiz),a=n.length+1,r=e.state.formControls,s=r.question,i=r.option1,c=r.option2,o=r.option3,u=r.option4,l={question:s.value,id:a,rightAnswerId:e.state.rightAnswerId,answers:[{text:i.value,id:i.id},{text:c.value,id:c.id},{text:o.value,id:o.id},{text:u.value,id:u.id}]};n.push(l),e.setState({quiz:n,isFormValid:!1,formControls:ve(),rightAnswerId:1})},e.createQuizHandler=function(){var t=Object(q.a)(k.a.mark((function t(n){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Y.post("/quizes.json",e.state.quiz);case 3:e.setState({quiz:[],isFormValid:!1,formControls:ve(),rightAnswerId:1}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}(),e.onChangeHandler=function(t,n){var a=Object(S.a)({},e.state.formControls),r=a[n];r.value=t,r.touched=!0,r.valid=se(r.value,r.validation),a[n]=r,e.setState({isFormValid:ie(a),formControls:a})},e.renderInputs=function(){return Object.keys(e.state.formControls).map((function(t,n){var a=e.state.formControls[t];return Object(v.jsxs)(r.a.Fragment,{children:[Object(v.jsx)(le,{type:a.type,label:a.label,value:a.value,valid:a.valid,shouldValidate:!!a.validation,touched:a.touched,errorMessage:a.errorMessage,onChange:function(n){return e.onChangeHandler(n.target.value,t)}}),0===n&&Object(v.jsx)("hr",{})]},"".concat(t," + ").concat(n))}))},e.selectChangeHandler=function(t){e.setState({rightAnswerId:+t.target.value})},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(v.jsx)("div",{className:ae.a.QuizCreator,children:Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"Quiz Creator"}),Object(v.jsxs)("form",{onSubmit:this.submitHandler,children:[this.renderInputs(),Object(v.jsx)(je,{label:"Choose the right answer",value:this.state.rightAnswerId,onChange:this.selectChangeHandler,options:[{text:1,value:1},{text:2,value:2},{text:3,value:3},{text:4,value:4}]}),Object(v.jsx)(Z,{type:"primary",onClick:this.addQuestionHandler,disabled:!this.state.isFormValid,children:"Add question"}),Object(v.jsx)(Z,{type:"success",onClick:this.createQuizHandler,disabled:0===this.state.quiz.length,children:"Create Quiz"})]})]})})}}]),n}(a.Component),fe=n(32),Oe=n.n(fe);function me(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@(([[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e.toLowerCase()))}var xe=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={isFormValid:!1,formControls:{email:{value:"",type:"email",label:"Email",errorMessage:"Enter valid email",touched:!1,valid:!1,validation:{required:!0,email:!0}},password:{value:"",type:"password",label:"Password",errorMessage:"Enter valid password",touched:!1,valid:!1,validation:{required:!0,minLength:6}}}},e.loginHandler=Object(q.a)(k.a.mark((function t(){var n,a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={email:e.state.formControls.email.value,password:e.state.formControls.password.value,returnSecureToken:!0},t.prev=1,t.next=4,X.a.post("https://www.googleapis.com/identitytoolkit/v3/relyingparty/verifyPassword?key=AIzaSyBRj1R0UEHzbzdDaOOQIhjqWUvDsusN4Mo",n);case 4:a=t.sent,console.log(a.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])}))),e.registerHandler=Object(q.a)(k.a.mark((function t(){var n,a;return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={email:e.state.formControls.email.value,password:e.state.formControls.password.value,returnSecureToken:!0},t.prev=1,t.next=4,X.a.post("https://www.googleapis.com/identitytoolkit/v3/relyingparty/signupNewUser?key=AIzaSyBRj1R0UEHzbzdDaOOQIhjqWUvDsusN4Mo",n);case 4:a=t.sent,console.log(a.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])}))),e.submitHandler=function(e){e.preventDefault()},e.isValid=function(e){var t=e.validation,n=e.value;if(!t)return!0;var a=!0;return t.required&&(a=""!==n.trim()&&a),t.email&&(a=me(n)&&a),t.minLength&&(a=n.length>=t.minLength&&a),a},e.onChangeHandler=function(t,n){var a=Object(S.a)({},e.state.formControls),r=a[n];r.value=t.target.value,r.touched=!0,r.valid=e.isValid(r),a[n]=r;var s=!0;Object.keys(a).forEach((function(e){s=a[e].valid&&s})),e.setState({isFormValid:s,formControls:a})},e.renderInputs=function(){return Object.keys(e.state.formControls).map((function(t,n){var a=e.state.formControls[t];return Object(v.jsx)(le,{type:a.type,label:a.label,value:a.value,valid:a.valid,shouldValidate:!!a.validation,touched:a.touched,errorMessage:a.errorMessage,onChange:function(n){return e.onChangeHandler(n,t)}},"".concat(t," + ").concat(n))}))},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(v.jsx)("div",{className:Oe.a.Auth,children:Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"Auth"}),Object(v.jsxs)("form",{onSubmit:this.submitHandler,className:Oe.a.AuthForm,children:[this.renderInputs(),Object(v.jsx)(Z,{type:"success",onClick:this.loginHandler,disabled:!this.state.isFormValid,children:"Sign In"}),Object(v.jsx)(Z,{type:"primary",onClick:this.registerHandler,disabled:!this.state.isFormValid,children:"Register"})]})]})})}}]),n}(a.Component),ge=n(33),we=n.n(ge),_e=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={quizes:[],loading:!0},e.renderQuizList=function(){return e.state.quizes.map((function(e){return Object(v.jsx)("li",{children:Object(v.jsx)(w.c,{to:"/quiz/"+e.id,children:e.name})},e.id)}))},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=Object(q.a)(k.a.mark((function e(){var t,n;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y.get("/quizes.json");case 3:t=e.sent,n=[],Object.keys(t.data).forEach((function(e,t){n.push({id:e,name:"Test #".concat(t+1)})})),this.setState({quizes:n,loading:!1}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(v.jsxs)("div",{className:we.a.QuizListWrapper,children:[Object(v.jsx)("h1",{children:"QuizList"}),this.state.loading?Object(v.jsx)(ee,{}):Object(v.jsx)("ul",{className:we.a.QuizList,children:this.renderQuizList()})]})}}]),n}(a.Component),ze=n(2);var Ce=function(){return Object(v.jsx)(C,{children:Object(v.jsxs)(ze.c,{children:[Object(v.jsx)(ze.a,{path:"/auth",component:xe}),Object(v.jsx)(ze.a,{path:"/quiz-creator",component:be}),Object(v.jsx)(ze.a,{path:"/quiz/:id",component:te}),Object(v.jsx)(ze.a,{path:"/",component:_e})]})})},ye=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,85)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),s(e),i(e)}))},ke=Object(v.jsx)(w.a,{children:Object(v.jsx)(Ce,{})});i.a.render(ke,document.getElementById("root")),ye()}},[[84,1,2]]]);
//# sourceMappingURL=main.d7f4b8df.chunk.js.map